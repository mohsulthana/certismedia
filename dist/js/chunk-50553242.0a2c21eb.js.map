{"version":3,"sources":["webpack:///./src/views/pages/Reporting.vue?e96a","webpack:///./src/views/pages/Reporting.vue?d4df","webpack:///src/views/pages/Reporting.vue","webpack:///./src/views/pages/Reporting.vue?46d1","webpack:///./src/views/pages/Reporting.vue?6086"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","model","value","callback","$$v","dateRange","expression","enabled","columns","dashboard","collapsable","headerPosition","on","seeLineDetail","onCellClick","scopedSlots","_u","key","fn","props","_v","column","field","$event","seeDetail","row","path","query","campaign_id","parseInt","_s","campaign_name","formattedRow","parseFloat","ctr","toFixed","winrate","staticRenderFns","components","VCard","VBtn","VCardText","VCardTitle","VDataTable","DatePicker","VueGoodTable","watch","newVal","from","to","fetchImpressions","data","expanded","singleExpand","headers","methods","console","log","params","axios","$router","push","line","line_id","mounted","component"],"mappings":"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","file":"js/chunk-50553242.0a2c21eb.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reporting.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vx-card',{staticClass:\"overflow-hidden\",attrs:{\"title\":\"Select your campaign for reporting view\"}},[_c('template',{slot:\"actions\"},[_c('date-picker',{attrs:{\"placeholder\":\"Filter date\",\"valueType\":\"format\",\"clearable\":true,\"range-separator\":' to ',\"range\":\"\",\"confirm-text\":'Filter',\"confirm\":true},model:{value:(_vm.dateRange),callback:function ($$v) {_vm.dateRange=$$v},expression:\"dateRange\"}})],1),_c('vue-good-table',{attrs:{\"expandOptions\":{ enabled: true },\"columns\":_vm.columns,\"rows\":_vm.dashboard,\"group-options\":{\n        enabled: true,\n        collapsable: true,\n        headerPosition: 'top',\n      }},on:{\"on-row-click\":_vm.seeLineDetail,\"on-row-dblclick\":_vm.onCellClick},scopedSlots:_vm._u([{key:\"expanded-row\",fn:function(props){return [_c('div',[_vm._v(\"Hello\")])]}},{key:\"table-header-row\",fn:function(props){return [(props.column.field == 'action')?_c('span',[_c('vs-button',{attrs:{\"color\":\"primary\",\"type\":\"border\",\"icon\":\"visibility\"},on:{\"click\":function($event){return _vm.seeDetail(props.row)}}})],1):(props.column.field == 'campaign_name')?_c('span',[_c('router-link',{attrs:{\"to\":{\n              path: 'reporting-detail',\n              query: { campaign_id: parseInt(props.row.campaign_id) },\n            }}},[_vm._v(_vm._s(props.row.campaign_name))])],1):_c('span',[_vm._v(\"\\n          \"+_vm._s(props.formattedRow[props.column.field])+\"\\n        \")])]}},{key:\"table-row\",fn:function(props){return [(props.column.field == 'ctr')?_c('span',[_vm._v(\"\\n          \"+_vm._s(((parseFloat(props.row.ctr).toFixed(2)) + \"%\"))+\"\\n        \")]):(props.column.field == 'winrate')?_c('span',[_vm._v(\"\\n          \"+_vm._s(((parseFloat(props.row.winrate).toFixed(2)) + \"%\"))+\"\\n        \")]):_c('span',[_vm._v(\"\\n          \"+_vm._s(props.formattedRow[props.column.field])+\"\\n        \")])]}}])})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Vue Component -->\n<template>\n  <div>\n    <vx-card\n      title=\"Select your campaign for reporting view\"\n      class=\"overflow-hidden\"\n    >\n      <template slot=\"actions\">\n        <date-picker\n          placeholder=\"Filter date\"\n          v-model=\"dateRange\"\n          valueType=\"format\"\n          :clearable=\"true\"\n          :range-separator=\"' to '\"\n          range\n          :confirm-text=\"'Filter'\"\n          :confirm=\"true\"\n        ></date-picker>\n      </template>\n      <vue-good-table\n        :expandOptions=\"{ enabled: true }\"\n        :columns=\"columns\"\n        :rows=\"dashboard\"\n        :group-options=\"{\n          enabled: true,\n          collapsable: true,\n          headerPosition: 'top',\n        }\"\n        @on-row-click=\"seeLineDetail\"\n        @on-row-dblclick=\"onCellClick\"\n      >\n        <template slot=\"expanded-row\" slot-scope=\"props\">\n          <div>Hello</div>\n        </template>\n        <template slot=\"table-header-row\" slot-scope=\"props\">\n          <span v-if=\"props.column.field == 'action'\">\n            <vs-button\n              color=\"primary\"\n              type=\"border\"\n              icon=\"visibility\"\n              @click=\"seeDetail(props.row)\"\n            ></vs-button>\n          </span>\n          <span v-else-if=\"props.column.field == 'campaign_name'\">\n            <router-link\n              :to=\"{\n                path: 'reporting-detail',\n                query: { campaign_id: parseInt(props.row.campaign_id) },\n              }\"\n              >{{ props.row.campaign_name }}</router-link\n            >\n          </span>\n          <span v-else>\n            {{ props.formattedRow[props.column.field] }}\n          </span>\n        </template>\n        <template slot=\"table-row\" slot-scope=\"props\">\n          <span v-if=\"props.column.field == 'ctr'\">\n            {{ `${parseFloat(props.row.ctr).toFixed(2)}%` }}\n          </span>\n          <span v-else-if=\"props.column.field == 'winrate'\">\n            {{ `${parseFloat(props.row.winrate).toFixed(2)}%` }}\n          </span>\n          <span v-else>\n            {{ props.formattedRow[props.column.field] }}\n          </span>\n        </template>\n      </vue-good-table>\n    </vx-card>\n  </div>\n  <!-- <v-data-table\n    :headers=\"headers\"\n    :items=\"dashboard\"\n    :single-expand=\"singleExpand\"\n    :expanded.sync=\"expanded\"\n    item-key=\"campaign_name\"\n    show-expand\n    dense\n    :loading=\"this.$root.loadingWorking\"\n    loading-text=\"Loading... Please wait\"\n    class=\"elevation-5\"\n    @click:row=\"seeDetail\"\n  >\n    <template v-slot:top>\n      <v-toolbar flat color=\"white\">\n        <v-toolbar-title\n          >Select your campaign for reporting view</v-toolbar-title\n        >\n        <v-spacer></v-spacer>\n        <date-picker\n          placeholder=\"Filter date\"\n          v-model=\"dateRange\"\n          valueType=\"format\"\n          :clearabl=\"true\"\n          :range-separator=\"' to '\"\n          range\n          :confirm-text=\"'Filter'\"\n          :confirm=\"true\"\n        ></date-picker>\n      </v-toolbar>\n    </template>\n    <template v-slot:expanded-item=\"{ item }\">\n      <td class=\"text-left ml-3\"></td>\n      <td @click=\"seeLineDetail(value.line_id, item)\" v-for=\"(value, index) in item.lines\" :key=\"index\" class=\"text-start text-warning\">{{ value.line_name }}</td>\n    </template>\n  </v-data-table> -->\n</template>\n\n<script>\nimport { VCard, VCardText, VCardTitle, VDataTable, VBtn } from \"vuetify/lib\";\nimport axios from \"@/axios\";\nimport DatePicker from \"vue2-datepicker\";\nimport { VueGoodTable } from \"vue-good-table\";\nimport \"vue-good-table/dist/vue-good-table.css\";\nimport \"vue2-datepicker/index.css\";\n\nexport default {\n  components: {\n    VCard,\n    VBtn,\n    VCardText,\n    VCardTitle,\n    VDataTable,\n    DatePicker,\n    VueGoodTable,\n  },\n  watch: {\n    dateRange: function (newVal, oldVal) {\n      this.dashboard = [];\n      if (newVal[0] == null && newVal[0] == null) {\n        this.from = \"\";\n        this.to = \"\";\n      } else {\n        this.from = newVal[0];\n        this.to = newVal[1];\n      }\n      this.fetchImpressions();\n    },\n  },\n  data() {\n    return {\n      columns: [\n        {\n          label: \"\",\n          field: \"before\",\n        },\n        {\n          label: \"Campaign\",\n          field: \"campaign_name\",\n        },\n        {\n          label: \"Impressions\",\n          field: \"impressions\",\n          type: \"number\",\n        },\n        {\n          label: \"Clicks\",\n          field: \"clicks\",\n          type: \"number\",\n        },\n        {\n          label: \"CTR\",\n          field: \"ctr\",\n          type: \"percentage\",\n        },\n        {\n          label: \"Views\",\n          field: \"views\",\n          type: \"number\",\n        },\n        {\n          label: \"Completed Views\",\n          field: \"completed_views\",\n          type: \"number\",\n        },\n        {\n          label: \"Win Rate\",\n          field: \"winrate\",\n          type: \"percentage\",\n        },\n        {\n          label: \"Landings\",\n          field: \"landings\",\n          type: \"number\",\n        },\n        {\n          label: \"Registrations\",\n          field: \"registrations\",\n          type: \"number\",\n        },\n        {\n          label: \"Subscriptions\",\n          field: \"subscriptions\",\n          type: \"number\",\n        },\n        // {\n        //   label: \"Action\",\n        //   field: \"action\",\n        // },\n      ],\n      expanded: [],\n      dateRange: {},\n      from: \"\",\n      to: \"\",\n      singleExpand: false,\n      headers: [\n        { text: \"\", value: \"data-table-expand\" },\n        {\n          text: \"Campaign Name\",\n          align: \"left\",\n          sortable: false,\n          value: \"campaign_name\",\n        },\n      ],\n      dashboard: [],\n    };\n  },\n  methods: {\n    onCellClick(params) {\n      console.log(params);\n    },\n    fetchImpressions() {\n      const idUser = this.$store.state.AppActiveUser.id;\n      const username = this.$store.state.AppActiveUser.username;\n      const table = username + idUser;\n      axios\n        .get(`reporting/dashboard/${table}?from=${this.from}&to=${this.to}`)\n        .then((response) => {\n          response.data.forEach((element) => {\n            this.dashboard.push({\n              campaign_id: element.campaign_id,\n              children: element.lines,\n              clicks: parseFloat(element.clicks),\n              impressions: parseFloat(element.impressions),\n              campaign_name: element.campaign_name,\n              completed_views: parseFloat(element.completed_views),\n              views: parseFloat(element.views),\n              ctr:\n                element.impressions == null || element.clicks == null\n                  ? 0\n                  : parseInt(element.clicks) / parseInt(element.impressions),\n              landings:\n                element.landings == null ? 0 : parseFloat(element.landings),\n              winrate:\n                element.impressions == null || element.bids == null\n                  ? 0\n                  : parseFloat(element.impressions) / parseFloat(element.bids),\n              registrations:\n                element.registrations == null\n                  ? 0\n                  : parseFloat(element.registrations),\n              subscriptions:\n                element.subscriptions == null\n                  ? 0\n                  : parseFloat(element.subscriptions),\n            });\n          });\n\n          this.dashboard.map((element) => {\n            element.children.map((child) => {\n              child.campaign_id = element.campaign_id;\n              child.campaign_name = child.line_name;\n              child.winrate =\n                child.impressions == null || child.bids == null\n                  ? 0\n                  : (parseFloat(child.impressions) / parseFloat(child.bids)) *\n                    100;\n              child.ctr =\n                child.clicks == null || child.impressions == null\n                  ? 0\n                  : (parseFloat(child.clicks) / parseFloat(child.impressions)) *\n                    100;\n              child.winrate =\n                child.winrate == Infinity ? 0 : parseFloat(child.winrate);\n              child.ctr = child.ctr == Infinity ? 0 : parseFloat(child.ctr);\n              delete child.line_name;\n            });\n          });\n        });\n    },\n    seeLineDetail(line) {\n      return this.$router.push({\n        path: \"/reporting-detail-line\",\n        query: {\n          line: parseInt(line.row.line_id),\n          campaign_id: parseInt(line.row.campaign_id),\n        },\n      });\n    },\n    seeDetail(args) {\n      return this.$router.push({\n        path: \"/reporting-detail\",\n        query: { campaign_id: parseInt(args.campaign_id) },\n      });\n    },\n  },\n  mounted() {\n    this.fetchImpressions();\n  },\n};\n</script>\n\n<style>\ntr.v-data-table__expanded.v-data-table__expanded__row:hover,\n.v-data-table__expanded.v-data-table__expanded__content,\ntr {\n  cursor: pointer;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reporting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reporting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reporting.vue?vue&type=template&id=ca539a84&\"\nimport script from \"./Reporting.vue?vue&type=script&lang=js&\"\nexport * from \"./Reporting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Reporting.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}