(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217383"],{c693:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("vx-card",{staticClass:"overflow-hidden",attrs:{title:"Dashboard"}},[t("template",{slot:"actions"},[t("date-picker",{attrs:{placeholder:"Filter date",valueType:"format",clearable:!0,"range-separator":" to ",range:"","confirm-text":"Filter",confirm:!0},model:{value:e.dateRange,callback:function(a){e.dateRange=a},expression:"dateRange"}})],1),t("vue-good-table",{attrs:{expandOptions:{enabled:!0},columns:e.columns,rows:e.dashboard,"group-options":{enabled:!0,collapsable:!0}},on:{"on-row-click":e.onRowClick},scopedSlots:e._u([{key:"expanded-row",fn:function(a){return[t("div",[e._v("Hello")])]}},{key:"table-row",fn:function(a){return["ctr"==a.column.field?t("span",[e._v("\n          "+e._s(parseFloat(a.row.ctr).toFixed(2)+"%")+"\n        ")]):"winrate"==a.column.field?t("span",[e._v("\n          "+e._s(parseFloat(a.row.winrate).toFixed(2)+"%")+"\n        ")]):t("span",[e._v("\n          "+e._s(a.formattedRow[a.column.field])+"\n        ")])]}}])})],2)],1)},n=[],i=(t("6d67"),t("ac6a"),t("f3e2"),t("b0af")),l=t("8336"),o=t("99d9"),r=t("8fea"),c=t("bb36"),p=t("ec45"),d=t("f617"),u=(t("dac4"),t("411c"),{components:{VCard:i["a"],VBtn:l["a"],VCardText:o["a"],VCardTitle:o["b"],VDataTable:r["a"],DatePicker:p["a"],VueGoodTable:d["a"]},data:function(){return{columns:[{label:"Campaign",field:"campaign_name"},{label:"Impressions",field:"impressions",type:"number"},{label:"Clicks",field:"clicks",type:"number"},{label:"CTR",field:"ctr",type:"percentage"},{label:"Views",field:"views",type:"number"},{label:"Completed Views",field:"completed_views",type:"number"},{label:"Win Rate",field:"winrate",type:"percentage"},{label:"Landings",field:"landings",type:"number"},{label:"Registrations",field:"registrations",type:"number"},{label:"Subscriptions",field:"subscriptions",type:"number"}],expanded:[],dateRange:{},from:"",to:"",singleExpand:!1,headers:[{text:"",value:"data-table-expand"},{text:"Campaign Name",align:"left",sortable:!1,value:"campaign_name"},{text:"Impressions",value:"impressions"},{text:"Clicks",value:"clicks"},{text:"CTR",value:"ctr"},{text:"Views",value:"views"},{text:"Completed Views",value:"completed_views"},{text:"Win Rate",value:"winrate"},{text:"Landings",value:"landings"},{text:"Registrations",value:"registrations"},{text:"Subscriptions",value:"subscriptions"}],dashboard:[],lines:[]}},watch:{dateRange:function(e,a){this.dashboard=[],null==e[0]&&null==e[0]?(this.from="",this.to=""):(this.from=e[0],this.to=e[1]),this.fetchImpressions()}},methods:{onRowClick:function(e){console.log(e)},fetchImpressions:function(){var e=this,a=this.$store.state.AppActiveUser.id,t=this.$store.state.AppActiveUser.username,s=t+a;c["a"].get("Reporting/dashboard/".concat(s,"?from=").concat(this.from,"&to=").concat(this.to)).then((function(a){a.data.forEach((function(a){e.dashboard.push({children:a.lines,clicks:parseFloat(a.clicks),impressions:parseFloat(a.impressions),campaign_name:a.campaign_name,completed_views:parseFloat(a.completed_views),views:parseFloat(a.views),ctr:null==a.impressions||null==a.clicks?0:parseInt(a.clicks)/parseInt(a.impressions),landings:null==a.landings?0:parseFloat(a.landings),winrate:null==a.impressions||null==a.bids?0:parseFloat(a.impressions)/parseFloat(a.bids),registrations:null==a.registrations?0:parseFloat(a.registrations),subscriptions:null==a.subscriptions?0:parseFloat(a.subscriptions)})})),e.dashboard.map((function(e){e.children.map((function(e){e.campaign_name=e.line_name,e.winrate=null==e.impressions||null==e.bids?0:parseFloat(e.impressions)/parseFloat(e.bids),e.ctr=null==e.clicks||null==e.impressions?0:parseFloat(e.clicks)/parseFloat(e.impressions),e.winrate=e.winrate==1/0?0:parseFloat(e.winrate),e.ctr=e.ctr==1/0?0:parseFloat(e.ctr),delete e.line_name}))}))}))}},mounted:function(){this.fetchImpressions()}}),m=u,b=t("2877"),f=Object(b["a"])(m,s,n,!1,null,null,null);a["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d217383.52a21a8c.js.map