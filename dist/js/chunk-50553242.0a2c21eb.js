(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50553242"],{"71ba":function(e,a,n){},"8ac0":function(e,a,n){"use strict";n("71ba")},"9dbd":function(e,a,n){"use strict";n.r(a);var t=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",[n("vx-card",{staticClass:"overflow-hidden",attrs:{title:"Select your campaign for reporting view"}},[n("template",{slot:"actions"},[n("date-picker",{attrs:{placeholder:"Filter date",valueType:"format",clearable:!0,"range-separator":" to ",range:"","confirm-text":"Filter",confirm:!0},model:{value:e.dateRange,callback:function(a){e.dateRange=a},expression:"dateRange"}})],1),n("vue-good-table",{attrs:{expandOptions:{enabled:!0},columns:e.columns,rows:e.dashboard,"group-options":{enabled:!0,collapsable:!0,headerPosition:"top"}},on:{"on-row-click":e.seeLineDetail,"on-row-dblclick":e.onCellClick},scopedSlots:e._u([{key:"expanded-row",fn:function(a){return[n("div",[e._v("Hello")])]}},{key:"table-header-row",fn:function(a){return["action"==a.column.field?n("span",[n("vs-button",{attrs:{color:"primary",type:"border",icon:"visibility"},on:{click:function(n){return e.seeDetail(a.row)}}})],1):"campaign_name"==a.column.field?n("span",[n("router-link",{attrs:{to:{path:"reporting-detail",query:{campaign_id:parseInt(a.row.campaign_id)}}}},[e._v(e._s(a.row.campaign_name))])],1):n("span",[e._v("\n          "+e._s(a.formattedRow[a.column.field])+"\n        ")])]}},{key:"table-row",fn:function(a){return["ctr"==a.column.field?n("span",[e._v("\n          "+e._s(parseFloat(a.row.ctr).toFixed(2)+"%")+"\n        ")]):"winrate"==a.column.field?n("span",[e._v("\n          "+e._s(parseFloat(a.row.winrate).toFixed(2)+"%")+"\n        ")]):n("span",[e._v("\n          "+e._s(a.formattedRow[a.column.field])+"\n        ")])]}}])})],2)],1)},i=[],s=(n("6d67"),n("ac6a"),n("f3e2"),n("b0af")),r=n("8336"),l=n("99d9"),o=n("8fea"),c=n("bb36"),p=n("ec45"),d=n("f617"),u=(n("dac4"),n("411c"),{components:{VCard:s["a"],VBtn:r["a"],VCardText:l["a"],VCardTitle:l["b"],VDataTable:o["a"],DatePicker:p["a"],VueGoodTable:d["a"]},watch:{dateRange:function(e,a){this.dashboard=[],null==e[0]&&null==e[0]?(this.from="",this.to=""):(this.from=e[0],this.to=e[1]),this.fetchImpressions()}},data:function(){return{columns:[{label:"",field:"before"},{label:"Campaign",field:"campaign_name"},{label:"Impressions",field:"impressions",type:"number"},{label:"Clicks",field:"clicks",type:"number"},{label:"CTR",field:"ctr",type:"percentage"},{label:"Views",field:"views",type:"number"},{label:"Completed Views",field:"completed_views",type:"number"},{label:"Win Rate",field:"winrate",type:"percentage"},{label:"Landings",field:"landings",type:"number"},{label:"Registrations",field:"registrations",type:"number"},{label:"Subscriptions",field:"subscriptions",type:"number"}],expanded:[],dateRange:{},from:"",to:"",singleExpand:!1,headers:[{text:"",value:"data-table-expand"},{text:"Campaign Name",align:"left",sortable:!1,value:"campaign_name"}],dashboard:[]}},methods:{onCellClick:function(e){console.log(e)},fetchImpressions:function(){var e=this,a=this.$store.state.AppActiveUser.id,n=this.$store.state.AppActiveUser.username,t=n+a;c["a"].get("reporting/dashboard/".concat(t,"?from=").concat(this.from,"&to=").concat(this.to)).then((function(a){a.data.forEach((function(a){e.dashboard.push({campaign_id:a.campaign_id,children:a.lines,clicks:parseFloat(a.clicks),impressions:parseFloat(a.impressions),campaign_name:a.campaign_name,completed_views:parseFloat(a.completed_views),views:parseFloat(a.views),ctr:null==a.impressions||null==a.clicks?0:parseInt(a.clicks)/parseInt(a.impressions),landings:null==a.landings?0:parseFloat(a.landings),winrate:null==a.impressions||null==a.bids?0:parseFloat(a.impressions)/parseFloat(a.bids),registrations:null==a.registrations?0:parseFloat(a.registrations),subscriptions:null==a.subscriptions?0:parseFloat(a.subscriptions)})})),e.dashboard.map((function(e){e.children.map((function(a){a.campaign_id=e.campaign_id,a.campaign_name=a.line_name,a.winrate=null==a.impressions||null==a.bids?0:parseFloat(a.impressions)/parseFloat(a.bids)*100,a.ctr=null==a.clicks||null==a.impressions?0:parseFloat(a.clicks)/parseFloat(a.impressions)*100,a.winrate=a.winrate==1/0?0:parseFloat(a.winrate),a.ctr=a.ctr==1/0?0:parseFloat(a.ctr),delete a.line_name}))}))}))},seeLineDetail:function(e){return this.$router.push({path:"/reporting-detail-line",query:{line:parseInt(e.row.line_id),campaign_id:parseInt(e.row.campaign_id)}})},seeDetail:function(e){return this.$router.push({path:"/reporting-detail",query:{campaign_id:parseInt(e.campaign_id)}})}},mounted:function(){this.fetchImpressions()}}),m=u,f=(n("8ac0"),n("2877")),b=Object(f["a"])(m,t,i,!1,null,null,null);a["default"]=b.exports}}]);
//# sourceMappingURL=chunk-50553242.0a2c21eb.js.map